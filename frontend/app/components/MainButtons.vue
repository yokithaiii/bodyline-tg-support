<script setup lang="ts">
import { BodyModalEmail } from '#components';

const store = useStore();
const modal = useModal();
const drawerContent = useDrawer();

const openCardDetail = (state: string) => {
	drawerContent.value.state = state;

	if (!store.value.email) {
		modal.open(BodyModalEmail, {
			title: 'ÐŸÐ¾Ð¸ÑÐº Ð°ÐºÐºÐ°ÑƒÐ½Ñ‚Ð°',
		});
	} else {
		drawerContent.value.isOpen = true;
	}
};

const actionButtons = [
	{
		id: 1,
		title: 'Ð”Ð¾ÑÑ‚ÑƒÐ¿ Ðº Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸ÑŽ ðŸ“±',
		state: 'access',
	},
	{
		id: 2,
		title: 'Ð”Ð¾ÑÑ‚ÑƒÐ¿ Ðº Ð¼Ð°Ñ€Ð°Ñ„Ð¾Ð½Ñƒ ðŸ†',
		state: 'marathon',
	},
	{
		id: 3,
		title: 'Ð§Ð°ÑÑ‚Ð¾ Ð·Ð°Ð´Ð°Ð²Ð°ÐµÐ¼Ñ‹Ðµ Ð²Ð¾Ð¿Ñ€Ð¾ÑÑ‹ â‰ï¸',
		state: 'qa',
	},
	{
		id: 4,
		title: 'Ð—Ð°Ð´Ð°Ñ‚ÑŒ Ð²Ð¾Ð¿Ñ€Ð¾Ñ ðŸ“',
		state: 'ask',
	},
];

const tost = () => {
	useToast().add({
		title: 'dsaadsa',
		close: false,
	});
};
</script>

<template>
	<section class="l-buttons gap-1 mt-4">
		<UButton v-for="item in actionButtons" :key="item.id" size="lg" @click="openCardDetail(item.state)">
			<span class="text-[10px] line-clamp-1"> {{ item.title }} </span>
		</UButton>
		<UButton @click="tost">dsada</UButton>
	</section>
</template>

<style scoped>
.l-buttons {
	display: grid;
	grid-template-columns: 1fr 1fr;
}
</style>
